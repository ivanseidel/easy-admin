<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta name="description" content="<%= _projectName%>">
		<meta name="author" content="Ivan Seidel">
		<!-- <link rel="shortcut icon" href="../../docs-assets/ico/favicon.png"> -->

		<title><%= title %></title>

		<!-- Bootstrap core CSS -->
		<link href="/css/bootstrap.css" rel="stylesheet">

		<!-- Custom styles for this template -->
		<link href="/css/template.css" rel="stylesheet">

		<script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
		<script src="/js/bootstrap.min.js"></script>

		<!-- Just for debugging purposes. Don't actually copy this line! -->
		<!--[if lt IE 9]><script src="../../docs-assets/js/ie8-responsive-file-warning.js"></script><![endif]-->

		<!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
		<!--[if lt IE 9]>
		<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
	<script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
		<![endif]-->
	</head>

	<%
		function linkItem(item){
			if(item.path)
				return '<a href="'+item.path+'">'+item.name+'</a>';

			return '<a href="#">'+item.name+'</a>';
		};

		function isCurrentPage(path, pseudoMatch){
			if(pseudoMatch)
				return (pathname.indexOf(path) >= 0);

			return (pathname == path);
		};

		/*
		 * Returns 'active' if the given path matches the current page
		 */
		function getActiveClass(path, pseudoMatch){
			return (isCurrentPage(path, pseudoMatch) ? 'active' : '');
		}
	%>

	<body>

		<!-- Fixed navbar -->
		<div class="navbar navbar-default navbar-fixed-top" role="navigation">
			<div class="container">
				<div class="navbar-header">
					<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
						<span class="sr-only">Toggle navigation</span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</button>
					<a class="navbar-brand" href="<%= _projectPath %>"><%= _projectName%></a>
				</div>
				<div class="navbar-collapse collapse">

					<!-- Navigation bar (topMenu) -->
					<ul class="nav navbar-nav">
						
						<% for(var i in _menuItems.topMenu){ %>
							<% var menu = _menuItems.topMenu[i]; %>

							<% if(menu.childs && menu.childs.length > 0){ %>
								<!-- Dropdown -->
								<li class="dropdown">
									<a href="#" class="dropdown-toggle" data-toggle="dropdown"><%= menu.name %> <b class="caret"></b></a>

									<ul class="dropdown-menu">
										<% menus = menu.childs %>
										<% 	
											for(var j = 0; j < menus.length; ){
												var item = menus[j];
												if(item.childs && item.childs.length > 0){
													%>
													<% if(j > 0){ %>
														<li class="divider"></li>
													<% } %>
													<% if(item.name){ %>
														<li class="dropdown-header"><%= item.name %></li>
													<% }%>
													<%
													for(var g in item.childs){
													%>
														<li><%- linkItem(item.childs[g]) %></li>
													<%
													}
												}else{
												%>
													<li><%- linkItem(item) %></li>
												<%
												}
										%>
										<%	j++;
											}
										%>
									</ul>
								</li>
							<% }else{ %>
								<!-- Simple item -->
								<li class="<%- getActiveClass(menu.path, true) %>"><%- linkItem(menu) %></li>
							<% } %>
						<% } %>

					</ul>
					<!-- <ul class="nav navbar-nav navbar-right">
						<li><a href="../navbar/">Default</a></li>
						<li><a href="../navbar-static-top/">Static top</a></li>
						<li class="active"><a href="./">Fixed top</a></li>
					</ul> -->
				</div><!--/.nav-collapse -->
			</div>
		</div>

		<div class="container">

			<% if(!sideMenu) {%>

				<div class="row">
					<div class="col-xs-12">
						<%- _content %>
					</div>
				</div>

			<% }else{ %>

				<div class="row">
					<div class="col-xm-12 col-sm-4 col-md-3" role="navigation">

						<!-- <div class="col-xs-6 col-sm-3 sidebar-offcanvas" id="sidebar"> -->
						<ul class="list-group">
							<% for(var item in sideMenu){ %>

								<a href="<%= (sideMenu[item].path ? sideMenu[item].path : '#') %>" class="list-group-item <%- getActiveClass(sideMenu[item].path) %>">
									<% if(sideMenu[item].badge){ %>
										<span class="badge pull-right"><%= sideMenu[item].badge %></span>
									<% } %>
									<%= sideMenu[item].name %>
								</a>
								<% %>

							<% } %>
						</ul>

					</div>
					<div class="col-xm-12 col-sm-8 col-md-9">
						<%- _content %>
					</div>
				</div>

			<% } %>
			<!-- Main component for a primary marketing message or call to action -->
			<!-- <div class="jumbotron">
				<h1>Navbar example</h1>
				<p>This example is a quick exercise to illustrate how the default, static and fixed to top navbar work. It includes the responsive CSS and HTML, so it also adapts to your viewport and device.</p>
				<p>To see the difference between static and fixed top navbars, just scroll.</p>
				<p>
					<a class="btn btn-lg btn-primary" href="../../components/#navbar" role="button">View navbar docs &raquo;</a>
				</p>
			</div> -->

		</div> <!-- /container -->

	</body>
</html>
